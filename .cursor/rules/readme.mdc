---
alwaysApply: true
---

# PROJECT VISION: Quantix-KVM
**Goal:** Build a "VMware Killer" — a distributed virtualization platform that is modern, fast, and easy to use.

## The Market Opportunity
The Broadcom acquisition of VMware has created a **vacuum in the virtualization market**. The incumbents are:
- **Expensive**: Nutanix
- **Complex**: OpenStack
- **Limited**: Proxmox (lacks enterprise features)

**Our Sweet Spot:** The simplicity of Proxmox + the enterprise capabilities of vSphere.

## Core Philosophy
1. **Simplicity:** A user must be able to spin up a HA cluster in **under 10 minutes** (ideally 5).
2. **Performance:** The platform overhead must be **<1% of host resources**.
3. **Robustness:** The system assumes hardware *will* fail. It must **self-heal** (auto-restart VMs, re-balance storage).
4. **API-First:** Every feature must be an API call first. Terraform-native mindset.

## What We're Building
This is not just a "program" — this is a **Distributed Operating System** for virtualization.

### The Three Pillars:
1. **Compute Engine (Hypervisor)**: KVM + Cloud Hypervisor (Rust) for modern, secure VM execution
2. **Control Plane**: Distributed system (Go + Etcd) for cluster management, scheduling, and state
3. **Guest Agent**: Rust-based agent for deep VM integration, telemetry, and self-healing

## Competitive Differentiation
We win by being:

### 1. UX/UI First
- VMware is **clunky**
- Proxmox is **ugly**
- **We build beautiful**: Consumer-grade UI (think Vercel/Linear aesthetics)
- React + Tailwind + Framer Motion

### 2. API First
- VMware's automation is **painful**
- Every feature is an **API call first**
- Terraform Provider from Day 1

### 3. One-Click Clustering
- The hardest part of VMware/Proxmox is HA setup
- **Our Goal**: Plug in 3 servers → Run one command → Fully HA cluster in **5 minutes**

### 4. The "Magic" Agent
Our agent does things VMware's can't:
- **Self-healing**: Detect crashed services inside VMs and auto-restart
- **Real-time telemetry**: Actual RAM/disk usage (not just allocated)
- **Filesystem quiescing**: Database-safe snapshots
- **Works offline**: Uses virtio-serial, not network-dependent

## The Adversary
We are replacing **VMware vSphere**. We must be:
- ✅ **Cheaper** (open-source core, enterprise support model)
- ✅ **Faster** (Rust/Go, modern architecture, <1% overhead)
- ✅ **Better UI** (consumer-grade experience)
- ✅ **Easier** (5-minute HA cluster setup vs. days)

## Success Metrics
- **Time to HA Cluster**: < 10 minutes (target: 5 minutes)
- **Platform Overhead**: < 1% of host resources
- **MTTR (Mean Time to Recovery)**: < 60 seconds for VM failover
- **UI Performance**: < 100ms API response times, 60fps dashboard

## The Smart Play
We are **NOT** writing a hypervisor from scratch. That requires 100+ kernel engineers and 5+ years.

Instead, we follow **Google, AWS, and Nutanix**: Wrap standard Linux subsystems (KVM, Ceph, OVN) into a cohesive, beautiful, API-first platform.

**Innovation happens in**:
- The control plane (scheduling, orchestration)
- The agent (deep guest integration)
- The UX (making complexity invisible)
- The automation (one-click everything)


---

## Project Semantics (!!!CRITICAL!!!)

This section defines the official terminology and directory mappings. **All agents MUST use these exact terms.**

### 1. Quantix-vDC (VMware vCenter Equivalent)

**Quantix Virtual Data Center** - The centralized management platform for multi-host clusters.

| Component | Directory | Tech Stack | Description |
|-----------|-----------|------------|-------------|
| **Appliance ISO/OVA** | `/Quantix-vDC` | Alpine Linux 3.20 | Pre-built VM appliance with all services |
| **Dashboard (Frontend)** | `/frontend` | React 19, Vite, TypeScript, Tailwind v4, Zustand, TanStack Query, Framer Motion, Lucide | Web UI for cluster management |
| **Control Plane (Backend)** | `/backend` | Go 1.25, Gin, gRPC-Go, etcd, PostgreSQL, Redis | API server, scheduler, HA, DRS |
| **API Definitions** | `/proto` | Protocol Buffers, buf | gRPC/Connect-RPC service definitions |

**Ports:** Dashboard: 5174 (dev) | Control Plane API: 8080

---

### 2. Quantix-OS (VMware ESXi Equivalent)

**Quantix Hypervisor OS** - The immutable, purpose-built hypervisor operating system that runs on bare-metal hosts.

| Component | Directory | Tech Stack | Description |
|-----------|-----------|------------|-------------|
| **Host OS ISO** | `/Quantix-OS` | Alpine Linux, squashfs, A/B partitions | Minimal hypervisor OS (~150MB) |
| **Console GUI (DCUI)** | `/Quantix-OS/console-gui` | Rust, Slint | Local physical console (TTY1) |
| **Console TUI (fallback)** | `/Quantix-OS/console-tui` | Rust, ratatui | Terminal fallback UI |
| **Host UI QHCI (Web)** | `/quantix-host-ui` | React 19, Vite, TypeScript, Tailwind v4, Zustand, TanStack Query, Recharts | Browser-based host management |
| **Node Daemon (Backend)** | `/agent/limiquantix-node` | Rust, Tokio, Axum, gRPC (tonic) | Serves Host UI + REST/gRPC API |

**Ports:** Host UI: 3001 (dev), 8443 (production) | gRPC: 9443

---

### 3. Agent (Node Daemon + Guest Agent)

**Rust workspace** containing all host-side and guest-side agents.

| Crate | Directory | Description |
|-------|-----------|-------------|
| **limiquantix-node** | `/agent/limiquantix-node` | Node Daemon - runs on each hypervisor host, manages VMs via libvirt |
| **limiquantix-guest-agent** | `/agent/limiquantix-guest-agent` | Guest Agent - runs inside VMs (Linux/Windows), telemetry, scripts, file ops |
| **limiquantix-hypervisor** | `/agent/limiquantix-hypervisor` | Hypervisor abstraction (libvirt, mock, storage, OVS network) |
| **limiquantix-telemetry** | `/agent/limiquantix-telemetry` | System metrics collection (CPU, memory, disk, network) |
| **limiquantix-proto** | `/agent/limiquantix-proto` | Generated Rust protobuf/gRPC code |
| **limiquantix-common** | `/agent/limiquantix-common` | Shared utilities (logging, config) |

**Tech Stack:** Rust 2021, Tokio, tonic (gRPC), tracing, serde, thiserror/anyhow

---

### 4. QVMC (VMware VMRC Equivalent)

**Quantix Virtual Machine Console** - Native desktop app for remote VM console access.

| Component | Directory | Tech Stack | Description |
|-----------|-----------|------------|-------------|
| **Desktop App** | `/qvmc` | Tauri (Rust + React 18), TypeScript, Tailwind v4, Lucide | VNC/SPICE client with native performance |
| **Rust Backend** | `/qvmc/src-tauri` | Rust, VNC RFB protocol | Native VNC client implementation |
| **React Frontend** | `/qvmc/src` | React 18, TypeScript | Connection management UI |

**Builds:** Windows (.exe/.msi), macOS (.dmg), Linux (.AppImage/.deb)

---

### 5. Update Server (OTA Update Infrastructure)

**Quantix Update Server** - OTA update distribution system for Quantix-OS and Quantix-vDC.

| Component | Directory | Tech Stack | Description |
|-----------|-----------|------------|-------------|
| **Update Server** | `/update-server` | Go 1.22, Fiber, Docker | REST API for serving manifests and artifacts |
| **Admin UI** | `/update-server/ui` | React 19, Vite, TypeScript, Tailwind v4, TanStack Query | Web UI for managing releases |
| **Update Client** | `/agent/limiquantix-node/src/update` | Rust, Tokio, reqwest | OTA update client in qx-node |
| **Publish Scripts** | `/scripts/publish-update.sh` | Bash | Build and publish automation |

**Ports:** Update Server: 9000 (API + Admin UI)

**Features:**
- Component updates (no reboot required)
- A/B partition full system updates with automatic rollback
- Multiple channels: dev, beta, stable
- Git integration for pull and build
- SHA256 verification of all artifacts

---

### Quick Reference

```
┌─────────────────────────────────────────────────────────────────────────┐
│                         QUANTIX-KVM ARCHITECTURE                         │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                          │
│  MANAGEMENT LAYER (Quantix-vDC)                                          │
│  ┌────────────────────────────────────────────────────────────────────┐  │
│  │  /frontend (React)  ←HTTP→  /backend (Go)  ←gRPC→  /agent (Rust)   │  │
│  │  Dashboard UI              Control Plane           Node Daemon      │  │
│  └────────────────────────────────────────────────────────────────────┘  │
│                                     │                                    │
│  HOST LAYER (Quantix-OS)            │                                    │
│  ┌─────────────────────────────────────────────────────────────────────┐ │
│  │  /Quantix-OS        /quantix-host-ui    /agent/limiquantix-node     │ │
│  │  Host OS ISO        Host Web UI QHCI    Node Daemon (serves UI)     │ │
│  │  + console-gui      (React)             (Rust + Axum)               │ │
│  │  + console-tui                                                       │ │
│  └─────────────────────────────────────────────────────────────────────┘ │
│                                     │                                    │
│  GUEST LAYER                        │                                    │
│  ┌─────────────────────────────────────────────────────────────────────┐ │
│  │  /agent/limiquantix-guest-agent    /qvmc                            │ │
│  │  Guest Agent (inside VMs)          VM Console Client                │ │
│  │  (Rust, virtio-serial)             (Tauri desktop app)              │ │
│  └─────────────────────────────────────────────────────────────────────┘ │
│                                                                          │
└─────────────────────────────────────────────────────────────────────────┘
```

### VMware → Quantix Mapping

| VMware Component | Quantix Equivalent | Directory |
|------------------|-------------------|-----------|
| vCenter Server Appliance | Quantix-vDC | `/Quantix-vDC` |
| vSphere Web Client | Dashboard | `/frontend` |
| vCenter API | Control Plane | `/backend` |
| ESXi | Quantix-OS | `/Quantix-OS` |
| ESXi Host Client | Host UI | `/quantix-host-ui` |
| ESXi hostd | Node Daemon | `/agent/limiquantix-node` |
| VMware Tools | Guest Agent | `/agent/limiquantix-guest-agent` |
| VMRC | QVMC | `/qvmc` |
| vSphere Update Manager | Update Server | `/update-server` |