# QEMU driver configuration for Quantix-OS

# Run VMs as root (simplifies device passthrough)
user = "root"
group = "root"

# Enable VNC for remote console access
vnc_listen = "0.0.0.0"
vnc_auto_unix_socket = 1

# Enable SPICE for local console access
spice_listen = "0.0.0.0"
spice_auto_unix_socket = 1

# Security settings
security_driver = "none"
security_default_confined = 0
security_require_confined = 0

# Cgroup configuration
cgroup_device_acl = [
    "/dev/null", "/dev/full", "/dev/zero",
    "/dev/random", "/dev/urandom",
    "/dev/ptmx", "/dev/kvm",
    "/dev/rtc", "/dev/hpet",
    "/dev/vfio/vfio"
]

# Memory settings
# Allow memory overcommit
memory_backing_dir = "/var/lib/libvirt/qemu/ram"

# Logging
log_level = 3
stdio_handler = "logd"
