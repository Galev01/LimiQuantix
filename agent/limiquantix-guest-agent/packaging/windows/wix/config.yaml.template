# =============================================================================
# Quantix KVM Guest Agent Configuration (Windows)
# =============================================================================
# Location: C:\ProgramData\Quantix-KVM\agent.yaml

# Telemetry interval in seconds
telemetry_interval_secs: 5

# Maximum command execution timeout (seconds)
max_exec_timeout_secs: 300

# Maximum file chunk size (bytes)
max_chunk_size: 65536

# Logging
log_level: info
log_format: json
log_file: "C:\\ProgramData\\Quantix-KVM\\Logs\\agent.log"
log_max_size_bytes: 10485760
log_max_files: 5

# Device path (auto = auto-detect)
# Note: The virtio-serial port name is kept as org.quantix.agent.0 for backward compatibility
device_path: auto

# Quiescing scripts directories
pre_freeze_script_dir: "C:\\ProgramData\\Quantix-KVM\\pre-freeze.d"
post_thaw_script_dir: "C:\\ProgramData\\Quantix-KVM\\post-thaw.d"

# Security settings
security:
  command_allowlist: []
  command_blocklist: []
  allow_file_write_paths: []
  deny_file_read_paths: []
  max_commands_per_minute: 0
  max_file_ops_per_second: 0
  audit_logging: false

# Health check settings
health:
  enabled: true
  interval_secs: 30
  telemetry_timeout_secs: 60
